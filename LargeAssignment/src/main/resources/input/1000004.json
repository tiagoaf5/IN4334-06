{"type":"StackOverflowArtifact","question":{"type":"StackOverflowQuestion","id":1000004,"title":"Problems with class loading during deserialization of type from another assembly","comments":[],"tags":["java",".net","serialization","ikvm"],"creationDate":"2009-06-16","lastActivityDate":"2009-06-17","lastEditDate":"2009-06-16","score":0,"viewCount":1117,"owner":{"type":"StackOverflowUser","id":53481,"displayName":"Dmitriy Matveev","reputation":5706},"informationUnits":[{"type":"NaturalLanguageTaggedUnit","id":"1000004-u0","astNode":{"type":"HASTNodeSequence","fragments":[{"type":"TextFragmentNode","text":"There are two assemblies:\n1) Assembly containing serializer. This is a place from where serialization and deserialization starts.\n2) Assembly containing serialized types. This is a place which is calling serializer from 1st assembly.\nThe idea of serializer in assembly1 is simple. It has two methods which are used for conversions of objects from and to byte arrays. The client code for that serializer can look like this:"}]},"rawText":"There are two assemblies:\n1) Assembly containing serializer. This is a place from where serialization and deserialization starts.\n2) Assembly containing serialized types. This is a place which is calling serializer from 1st assembly.\nThe idea of serializer in assembly1 is simple. It has two methods which are used for conversions of objects from and to byte arrays. The client code for that serializer can look like this:","source":{"type":"XmlSourceInfo","node":{"type":"XmlComposedNode","name":{"type":"XmlNameNode","value":"p"},"attributes":[],"elements":[{"type":"XmlTextNode","contents":"There are two assemblies:"},{"type":"XmlSingleNode","name":{"type":"XmlNameNode","value":"br"},"attributes":[]},{"type":"XmlTextNode","contents":"\n1) Assembly containing serializer. This is a place from where serialization and deserialization starts."},{"type":"XmlSingleNode","name":{"type":"XmlNameNode","value":"br"},"attributes":[]},{"type":"XmlTextNode","contents":"\n2) Assembly containing serialized types. This is a place which is calling serializer from 1st assembly."},{"type":"XmlSingleNode","name":{"type":"XmlNameNode","value":"br"},"attributes":[]},{"type":"XmlTextNode","contents":"\nThe idea of serializer in assembly1 is simple. It has two methods which are used for conversions of objects from and to byte arrays. The client code for that serializer can look like this:"}]}},"metaInformation":[{"type":"NaturalLanguageMetaInformation","tfMap":{"serial":6,"method":1,"assembl":5,"simpl":1,"idea":1,"object":1,"code":1,"array":1,"convers":1,"client":1,"place":2,"deseri":1,"type":1,"start":1,"call":1}},{"type":"CodeTypesMetaInformation","qualifiedTypes":[],"simpleTypes":[],"basicTypes":[]},{"type":"CodeInvocationMetaInformation","invocations":[]},{"type":"CodeVariablesMetaInformation","variables":[]},{"type":"CodeIdentifiersMetaInformation","identifiers":[]},{"type":"CodeMethodDeclaratorsMetaInformation","declarators":[]},{"type":"TextReadabilityMetaInformation","fleshReadingEaseScore":52.657352941176526,"fleshKincaidGradeLevel":8.327983193277309,"automatedReadingIndex":7.323466386554621,"gunningFogIndex":8.003361344537815,"smogIndex":8.477225575051662,"colemanLiauIndex":10.994852941176468}]},{"type":"CodeTaggedUnit","id":"1000004-u1","astNode":{"type":"HASTNodeSequence","fragments":[{"type":"TextFragmentNode","text":"    ISerializer serializer = ...\n\n    "},{"type":"BlockNode","statements":[{"type":"LocalVariableDeclarationStatementNode","modifiers":[],"declarators":{"type":"VariableDeclaratorsNode","declarators":[{"type":"VariableDeclaratorNode","identifier":{"type":"IdentifierNode","name":"my","comments":[]},"arrayDepth":[],"assignment":{"type":"VariableAssignmentNode","variableAssignment":{"type":"VariableExpressionInitNode","expression":{"type":"ConstructorCreatorNode","creatorType":{"type":"ReferenceTypeNode","ids":[{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"MyClass","comments":[]},"comments":[]}],"comments":[]},"expressionArgs":{"type":"ExpressionListNode","arguments":[],"comments":[]},"comments":[]}},"comments":[]},"varType":{"type":"ReferenceTypeNode","ids":[{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"MyClass","comments":[]},"comments":[]}],"comments":[]}}],"comments":[]},"labels":[],"comments":[]},{"type":"LocalVariableDeclarationStatementNode","modifiers":[],"declarators":{"type":"VariableDeclaratorsNode","declarators":[{"type":"VariableDeclaratorNode","identifier":{"type":"IdentifierNode","name":"data","comments":[]},"arrayDepth":[],"assignment":{"type":"VariableAssignmentNode","variableAssignment":{"type":"VariableExpressionInitNode","expression":{"type":"MethodInvocationNode","qualifiedIdentifier":{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"serializer","comments":[]}],"comments":[]},"identifier":{"type":"IdentifierNode","name":"Serialize","comments":[]},"args":{"type":"ExpressionListNode","arguments":[{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"my","comments":[]}],"comments":[]}],"comments":[]},"comments":[]}},"comments":[]},"varType":{"type":"ArrayTypeNode","typeNode":{"type":"PrimitiveTypeNode","name":"byte","comments":[]},"depth":[{"type":"ArrayDimensionNode","comments":[]}]}}],"comments":[]},"labels":[],"comments":[]},{"type":"ExpressionStatement","expression":{"type":"MethodInvocationNode","qualifiedIdentifier":{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"Console","comments":[]}],"comments":[]},"identifier":{"type":"IdentifierNode","name":"WriteLine","comments":[]},"args":{"type":"ExpressionListNode","arguments":[{"type":"MethodInvocationNode","qualifiedIdentifier":{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"Encoding","comments":[]},{"type":"IdentifierNode","name":"ASCII","comments":[]}],"comments":[]},"identifier":{"type":"IdentifierNode","name":"GetString","comments":[]},"args":{"type":"ExpressionListNode","arguments":[{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"data","comments":[]}],"comments":[]}],"comments":[]},"comments":[]}],"comments":[]},"comments":[{"text":"// dump serialized form\n"}]},"labels":[]},{"type":"LocalVariableDeclarationStatementNode","modifiers":[],"declarators":{"type":"VariableDeclaratorsNode","declarators":[{"type":"VariableDeclaratorNode","identifier":{"type":"IdentifierNode","name":"another","comments":[]},"arrayDepth":[],"assignment":{"type":"VariableAssignmentNode","variableAssignment":{"type":"VariableExpressionInitNode","expression":{"type":"CastExpressionNode","aType":{"type":"ReferenceTypeNode","ids":[{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"MyClass","comments":[]},"comments":[]}],"comments":[]},"argument":{"type":"MethodInvocationNode","qualifiedIdentifier":{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"serializer","comments":[]}],"comments":[]},"identifier":{"type":"IdentifierNode","name":"Deserialize","comments":[]},"args":{"type":"ExpressionListNode","arguments":[{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"data","comments":[]}],"comments":[]}],"comments":[]},"comments":[]},"comments":[]}},"comments":[]},"varType":{"type":"ReferenceTypeNode","ids":[{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"MyClass","comments":[]},"comments":[]}],"comments":[]}}],"comments":[]},"labels":[],"comments":[]}],"labels":[],"comments":[]}]},"rawText":"    ISerializer serializer = ...\n\n    MyClass my = new MyClass();\n    byte[] data = serializer.Serialize(my);\n    Console.WriteLine(Encoding.ASCII.GetString(data)); // dump serialized form\n    MyClass another = (MyClass)serializer.Deserialize(data);\n","source":{"type":"XmlSourceInfo","node":{"type":"XmlComposedNode","name":{"type":"XmlNameNode","value":"pre"},"attributes":[],"elements":[{"type":"XmlComposedNode","name":{"type":"XmlNameNode","value":"code"},"attributes":[],"elements":[{"type":"XmlTextNode","contents":"    ISerializer serializer = ...\n\n    MyClass my = new MyClass();\n    byte[] data = serializer.Serialize(my);\n    Console.WriteLine(Encoding.ASCII.GetString(data)); // dump serialized form\n    MyClass another = (MyClass)serializer.Deserialize(data);\n"}]}]}},"metaInformation":[{"type":"NaturalLanguageMetaInformation","tfMap":{"iseri":1,"serial":5,"line":1,"data":3,"dump":1,"consol":1,"ascii":1,"encod":1,"deseri":1,"form":1,"write":1}},{"type":"CodeTypesMetaInformation","qualifiedTypes":[],"simpleTypes":[{"type":"ReferenceTypeNode","ids":[{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"MyClass","comments":[]},"comments":[]}],"comments":[]}],"basicTypes":[{"type":"PrimitiveTypeNode","name":"byte","comments":[]},{"type":"PrimitiveTypeNode","name":"byte","comments":[]}]},{"type":"CodeInvocationMetaInformation","invocations":[{"type":"MethodInvocationNode","qualifiedIdentifier":{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"serializer","comments":[]}],"comments":[]},"identifier":{"type":"IdentifierNode","name":"Serialize","comments":[]},"args":{"type":"ExpressionListNode","arguments":[{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"my","comments":[]}],"comments":[]}],"comments":[]},"comments":[]},{"type":"MethodInvocationNode","qualifiedIdentifier":{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"Console","comments":[]}],"comments":[]},"identifier":{"type":"IdentifierNode","name":"WriteLine","comments":[]},"args":{"type":"ExpressionListNode","arguments":[{"type":"MethodInvocationNode","qualifiedIdentifier":{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"Encoding","comments":[]},{"type":"IdentifierNode","name":"ASCII","comments":[]}],"comments":[]},"identifier":{"type":"IdentifierNode","name":"GetString","comments":[]},"args":{"type":"ExpressionListNode","arguments":[{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"data","comments":[]}],"comments":[]}],"comments":[]},"comments":[]}],"comments":[]},"comments":[{"text":"// dump serialized form\n"}]},{"type":"MethodInvocationNode","qualifiedIdentifier":{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"Encoding","comments":[]},{"type":"IdentifierNode","name":"ASCII","comments":[]}],"comments":[]},"identifier":{"type":"IdentifierNode","name":"GetString","comments":[]},"args":{"type":"ExpressionListNode","arguments":[{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"data","comments":[]}],"comments":[]}],"comments":[]},"comments":[]},{"type":"MethodInvocationNode","qualifiedIdentifier":{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"serializer","comments":[]}],"comments":[]},"identifier":{"type":"IdentifierNode","name":"Deserialize","comments":[]},"args":{"type":"ExpressionListNode","arguments":[{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"data","comments":[]}],"comments":[]}],"comments":[]},"comments":[]}]},{"type":"CodeVariablesMetaInformation","variables":[{"type":"VariableDeclaratorNode","identifier":{"type":"IdentifierNode","name":"my","comments":[]},"arrayDepth":[],"assignment":{"type":"VariableAssignmentNode","variableAssignment":{"type":"VariableExpressionInitNode","expression":{"type":"ConstructorCreatorNode","creatorType":{"type":"ReferenceTypeNode","ids":[{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"MyClass","comments":[]},"comments":[]}],"comments":[]},"expressionArgs":{"type":"ExpressionListNode","arguments":[],"comments":[]},"comments":[]}},"comments":[]},"varType":{"type":"ReferenceTypeNode","ids":[{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"MyClass","comments":[]},"comments":[]}],"comments":[]}},{"type":"VariableDeclaratorNode","identifier":{"type":"IdentifierNode","name":"data","comments":[]},"arrayDepth":[],"assignment":{"type":"VariableAssignmentNode","variableAssignment":{"type":"VariableExpressionInitNode","expression":{"type":"MethodInvocationNode","qualifiedIdentifier":{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"serializer","comments":[]}],"comments":[]},"identifier":{"type":"IdentifierNode","name":"Serialize","comments":[]},"args":{"type":"ExpressionListNode","arguments":[{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"my","comments":[]}],"comments":[]}],"comments":[]},"comments":[]}},"comments":[]},"varType":{"type":"ArrayTypeNode","typeNode":{"type":"PrimitiveTypeNode","name":"byte","comments":[]},"depth":[{"type":"ArrayDimensionNode","comments":[]}]}},{"type":"VariableDeclaratorNode","identifier":{"type":"IdentifierNode","name":"another","comments":[]},"arrayDepth":[],"assignment":{"type":"VariableAssignmentNode","variableAssignment":{"type":"VariableExpressionInitNode","expression":{"type":"CastExpressionNode","aType":{"type":"ReferenceTypeNode","ids":[{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"MyClass","comments":[]},"comments":[]}],"comments":[]},"argument":{"type":"MethodInvocationNode","qualifiedIdentifier":{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"serializer","comments":[]}],"comments":[]},"identifier":{"type":"IdentifierNode","name":"Deserialize","comments":[]},"args":{"type":"ExpressionListNode","arguments":[{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"data","comments":[]}],"comments":[]}],"comments":[]},"comments":[]},"comments":[]}},"comments":[]},"varType":{"type":"ReferenceTypeNode","ids":[{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"MyClass","comments":[]},"comments":[]}],"comments":[]}}]},{"type":"CodeIdentifiersMetaInformation","identifiers":[{"type":"IdentifierNode","name":"my","comments":[]},{"type":"IdentifierNode","name":"MyClass","comments":[]},{"type":"IdentifierNode","name":"MyClass","comments":[]},{"type":"IdentifierNode","name":"data","comments":[]},{"type":"IdentifierNode","name":"serializer","comments":[]},{"type":"IdentifierNode","name":"Serialize","comments":[]},{"type":"IdentifierNode","name":"my","comments":[]},{"type":"IdentifierNode","name":"Console","comments":[]},{"type":"IdentifierNode","name":"WriteLine","comments":[]},{"type":"IdentifierNode","name":"Encoding","comments":[]},{"type":"IdentifierNode","name":"ASCII","comments":[]},{"type":"IdentifierNode","name":"GetString","comments":[]},{"type":"IdentifierNode","name":"data","comments":[]},{"type":"IdentifierNode","name":"another","comments":[]},{"type":"IdentifierNode","name":"MyClass","comments":[]},{"type":"IdentifierNode","name":"serializer","comments":[]},{"type":"IdentifierNode","name":"Deserialize","comments":[]},{"type":"IdentifierNode","name":"data","comments":[]},{"type":"IdentifierNode","name":"MyClass","comments":[]}]},{"type":"CodeMethodDeclaratorsMetaInformation","declarators":[]}]},{"type":"NaturalLanguageTaggedUnit","id":"1000004-u2","astNode":{"type":"HASTNodeSequence","fragments":[{"type":"ReferenceTypeNode","ids":[{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"MyClass","comments":[]},"comments":[]}],"comments":[]},{"type":"TextFragmentNode","text":"is defined in assembly2, so assembly1 knows nothing about it. That scenario will work if serializer is implemented with standard .Net classes, like this:"}]},"rawText":"MyClass is defined in assembly2, so assembly1 knows nothing about it. That scenario will work if serializer is implemented with standard .Net classes, like this:","source":{"type":"XmlSourceInfo","node":{"type":"XmlComposedNode","name":{"type":"XmlNameNode","value":"p"},"attributes":[],"elements":[{"type":"XmlTextNode","contents":"MyClass is defined in assembly2, so assembly1 knows nothing about it. That scenario will work if serializer is implemented with standard .Net classes, like this:"}]}},"metaInformation":[{"type":"NaturalLanguageMetaInformation","tfMap":{"scenario":1,"serial":1,"assembl":2,"standard":1,"work":1,"net":1,"implement":1,"class":1,"defin":1}},{"type":"CodeTypesMetaInformation","qualifiedTypes":[],"simpleTypes":[{"type":"ReferenceTypeNode","ids":[{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"MyClass","comments":[]},"comments":[]}],"comments":[]}],"basicTypes":[]},{"type":"CodeInvocationMetaInformation","invocations":[]},{"type":"CodeVariablesMetaInformation","variables":[]},{"type":"CodeIdentifiersMetaInformation","identifiers":[{"type":"IdentifierNode","name":"MyClass","comments":[]}]},{"type":"CodeMethodDeclaratorsMetaInformation","declarators":[]},{"type":"TextReadabilityMetaInformation","fleshReadingEaseScore":52.864666666666665,"fleshKincaidGradeLevel":7.9559999999999995,"automatedReadingIndex":7.605466666666668,"gunningFogIndex":6.533333333333335,"smogIndex":7.47213595499958,"colemanLiauIndex":11.699199999999994}]},{"type":"CodeTaggedUnit","id":"1000004-u3","astNode":{"type":"HASTNodeSequence","fragments":[{"type":"ClassDeclarationNode","modifiers":[{"type":"KeywordModifierNode","value":"public","comments":[]}],"identifier":{"type":"IdentifierNode","name":"DotNetSerializer","comments":[]},"labels":[],"comments":[]},{"type":"TextFragmentNode","text":": ISerializer\n{\n    "},{"type":"MethodDeclaratorNode","modifiers":[{"type":"KeywordModifierNode","value":"public","comments":[]}],"returnType":{"type":"ArrayTypeNode","typeNode":{"type":"PrimitiveTypeNode","name":"byte","comments":[]},"depth":[{"type":"ArrayDimensionNode","comments":[]}]},"identifier":{"type":"IdentifierNode","name":"Serialize","comments":[]},"parameters":{"type":"FormalParametersNode","parameters":{"type":"FormalParameterDeclsNode","formalParameters":[{"type":"FormalParameterDeclNode","modifiers":[],"parameterType":{"type":"ReferenceTypeNode","ids":[{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"object","comments":[]},"comments":[]}],"comments":[]},"variableDeclarator":{"type":"VariableDeclaratorNode","identifier":{"type":"IdentifierNode","name":"obj","comments":[]},"arrayDepth":[]},"isVariadic":false,"comments":[]}],"comments":[]},"comments":[]},"arrayReturnType":[],"comments":[]},{"type":"TextFragmentNode","text":"{\n        "},{"type":"LocalVariableDeclarationStatementNode","modifiers":[],"declarators":{"type":"VariableDeclaratorsNode","declarators":[{"type":"VariableDeclaratorNode","identifier":{"type":"IdentifierNode","name":"formatter","comments":[]},"arrayDepth":[],"assignment":{"type":"VariableAssignmentNode","variableAssignment":{"type":"VariableExpressionInitNode","expression":{"type":"ConstructorCreatorNode","creatorType":{"type":"ReferenceTypeNode","ids":[{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"BinaryFormatter","comments":[]},"comments":[]}],"comments":[]},"expressionArgs":{"type":"ExpressionListNode","arguments":[],"comments":[]},"comments":[]}},"comments":[]},"varType":{"type":"ReferenceTypeNode","ids":[{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"BinaryFormatter","comments":[]},"comments":[]}],"comments":[]}}],"comments":[]},"labels":[],"comments":[]},{"type":"TextFragmentNode","text":"using ("},{"type":"ReferenceTypeNode","ids":[{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"MemoryStream","comments":[]},"comments":[]}],"comments":[]},{"type":"TextFragmentNode","text":"stream = "},{"type":"ExpressionStatement","expression":{"type":"ConstructorCreatorNode","creatorType":{"type":"ReferenceTypeNode","ids":[{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"MemoryStream","comments":[]},"comments":[]}],"comments":[]},"expressionArgs":{"type":"ExpressionListNode","arguments":[],"comments":[]},"comments":[]},"labels":[]},{"type":"TextFragmentNode","text":")\n        {\n            "},{"type":"BlockNode","statements":[{"type":"ExpressionStatement","expression":{"type":"MethodInvocationNode","qualifiedIdentifier":{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"formatter","comments":[]}],"comments":[]},"identifier":{"type":"IdentifierNode","name":"Serialize","comments":[]},"args":{"type":"ExpressionListNode","arguments":[{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"stream","comments":[]}],"comments":[]},{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"obj","comments":[]}],"comments":[]}],"comments":[]},"comments":[]},"labels":[]},{"type":"LocalVariableDeclarationStatementNode","modifiers":[],"declarators":{"type":"VariableDeclaratorsNode","declarators":[{"type":"VariableDeclaratorNode","identifier":{"type":"IdentifierNode","name":"result","comments":[]},"arrayDepth":[],"assignment":{"type":"VariableAssignmentNode","variableAssignment":{"type":"VariableExpressionInitNode","expression":{"type":"MethodInvocationNode","qualifiedIdentifier":{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"stream","comments":[]}],"comments":[]},"identifier":{"type":"IdentifierNode","name":"GetBuffer","comments":[]},"args":{"type":"ExpressionListNode","arguments":[],"comments":[]},"comments":[]}},"comments":[]},"varType":{"type":"ArrayTypeNode","typeNode":{"type":"PrimitiveTypeNode","name":"byte","comments":[]},"depth":[{"type":"ArrayDimensionNode","comments":[]}]}}],"comments":[]},"labels":[],"comments":[]}],"labels":[],"comments":[]},{"type":"TextFragmentNode","text":"Array.Resize(ref result, (int)stream.Length)"},{"type":"BlockNode","statements":[{"type":"EmptyStatementNode","comma":{"type":"SeparatorNode","symbol":";","comments":[]},"labels":[]},{"type":"ReturnStatementNode","expression":{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"result","comments":[]}],"comments":[]},"labels":[],"comments":[]}],"labels":[],"comments":[]},{"type":"TextFragmentNode","text":"}\n    }\n\n    "},{"type":"MethodDeclaratorNode","modifiers":[{"type":"KeywordModifierNode","value":"public","comments":[]}],"returnType":{"type":"ReferenceTypeNode","ids":[{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"object","comments":[]},"comments":[]}],"comments":[]},"identifier":{"type":"IdentifierNode","name":"Deserialize","comments":[]},"parameters":{"type":"FormalParametersNode","parameters":{"type":"FormalParameterDeclsNode","formalParameters":[{"type":"FormalParameterDeclNode","modifiers":[],"parameterType":{"type":"ArrayTypeNode","typeNode":{"type":"PrimitiveTypeNode","name":"byte","comments":[]},"depth":[{"type":"ArrayDimensionNode","comments":[]}]},"variableDeclarator":{"type":"VariableDeclaratorNode","identifier":{"type":"IdentifierNode","name":"data","comments":[]},"arrayDepth":[]},"isVariadic":false,"comments":[]}],"comments":[]},"comments":[]},"arrayReturnType":[],"comments":[]},{"type":"TextFragmentNode","text":"{\n        "},{"type":"LocalVariableDeclarationStatementNode","modifiers":[],"declarators":{"type":"VariableDeclaratorsNode","declarators":[{"type":"VariableDeclaratorNode","identifier":{"type":"IdentifierNode","name":"formatter","comments":[]},"arrayDepth":[],"assignment":{"type":"VariableAssignmentNode","variableAssignment":{"type":"VariableExpressionInitNode","expression":{"type":"ConstructorCreatorNode","creatorType":{"type":"ReferenceTypeNode","ids":[{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"BinaryFormatter","comments":[]},"comments":[]}],"comments":[]},"expressionArgs":{"type":"ExpressionListNode","arguments":[],"comments":[]},"comments":[]}},"comments":[]},"varType":{"type":"ReferenceTypeNode","ids":[{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"BinaryFormatter","comments":[]},"comments":[]}],"comments":[]}}],"comments":[]},"labels":[],"comments":[]},{"type":"TextFragmentNode","text":"using (Stream stream = "},{"type":"ExpressionStatement","expression":{"type":"ConstructorCreatorNode","creatorType":{"type":"ReferenceTypeNode","ids":[{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"MemoryStream","comments":[]},"comments":[]}],"comments":[]},"expressionArgs":{"type":"ExpressionListNode","arguments":[{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"data","comments":[]}],"comments":[]}],"comments":[]},"comments":[]},"labels":[]},{"type":"TextFragmentNode","text":")\n        "},{"type":"BlockDeclarationNode","modifiers":[],"block":{"type":"BlockNode","statements":[{"type":"ReturnStatementNode","expression":{"type":"MethodInvocationNode","qualifiedIdentifier":{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"formatter","comments":[]}],"comments":[]},"identifier":{"type":"IdentifierNode","name":"Deserialize","comments":[]},"args":{"type":"ExpressionListNode","arguments":[{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"stream","comments":[]}],"comments":[]}],"comments":[]},"comments":[]},"labels":[],"comments":[]}],"labels":[],"comments":[]}},{"type":"TextFragmentNode","text":"}\n}\n"}]},"rawText":"public class DotNetSerializer : ISerializer\n{\n    public byte[] Serialize(object obj)\n    {\n        BinaryFormatter formatter = new BinaryFormatter();\n        using (MemoryStream stream = new MemoryStream())\n        {\n            formatter.Serialize(stream, obj);\n            byte[] result = stream.GetBuffer();\n            Array.Resize(ref result, (int)stream.Length);\n            return result;\n        }\n    }\n\n    public object Deserialize(byte[] data)\n    {\n        BinaryFormatter formatter = new BinaryFormatter();\n        using (Stream stream = new MemoryStream(data))\n        {\n            return formatter.Deserialize(stream);\n        }\n    }\n}\n","source":{"type":"XmlSourceInfo","node":{"type":"XmlComposedNode","name":{"type":"XmlNameNode","value":"pre"},"attributes":[],"elements":[{"type":"XmlComposedNode","name":{"type":"XmlNameNode","value":"code"},"attributes":[],"elements":[{"type":"XmlTextNode","contents":"public class DotNetSerializer : ISerializer\n{\n    public byte[] Serialize(object obj)\n    {\n        BinaryFormatter formatter = new BinaryFormatter();\n        using (MemoryStream stream = new MemoryStream())\n        {\n            formatter.Serialize(stream, obj);\n            byte[] result = stream.GetBuffer();\n            Array.Resize(ref result, (int)stream.Length);\n            return result;\n        }\n    }\n\n    public object Deserialize(byte[] data)\n    {\n        BinaryFormatter formatter = new BinaryFormatter();\n        using (Stream stream = new MemoryStream(data))\n        {\n            return formatter.Deserialize(stream);\n        }\n    }\n}\n"}]}]}},"metaInformation":[{"type":"NaturalLanguageMetaInformation","tfMap":{"iseri":1,"serial":3,"dot":1,"data":2,"result":3,"binari":4,"ref":1,"obj":2,"buffer":1,"net":1,"object":2,"array":1,"stream":10,"resiz":1,"length":1,"deseri":2,"formatt":8,"memori":3}},{"type":"CodeTypesMetaInformation","qualifiedTypes":[],"simpleTypes":[{"type":"ReferenceTypeNode","ids":[{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"MemoryStream","comments":[]},"comments":[]}],"comments":[]},{"type":"ReferenceTypeNode","ids":[{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"object","comments":[]},"comments":[]}],"comments":[]},{"type":"ReferenceTypeNode","ids":[{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"BinaryFormatter","comments":[]},"comments":[]}],"comments":[]}],"basicTypes":[{"type":"PrimitiveTypeNode","name":"byte","comments":[]},{"type":"PrimitiveTypeNode","name":"byte","comments":[]}]},{"type":"CodeInvocationMetaInformation","invocations":[{"type":"MethodInvocationNode","qualifiedIdentifier":{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"formatter","comments":[]}],"comments":[]},"identifier":{"type":"IdentifierNode","name":"Serialize","comments":[]},"args":{"type":"ExpressionListNode","arguments":[{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"stream","comments":[]}],"comments":[]},{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"obj","comments":[]}],"comments":[]}],"comments":[]},"comments":[]},{"type":"MethodInvocationNode","qualifiedIdentifier":{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"stream","comments":[]}],"comments":[]},"identifier":{"type":"IdentifierNode","name":"GetBuffer","comments":[]},"args":{"type":"ExpressionListNode","arguments":[],"comments":[]},"comments":[]},{"type":"MethodInvocationNode","qualifiedIdentifier":{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"formatter","comments":[]}],"comments":[]},"identifier":{"type":"IdentifierNode","name":"Deserialize","comments":[]},"args":{"type":"ExpressionListNode","arguments":[{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"stream","comments":[]}],"comments":[]}],"comments":[]},"comments":[]}]},{"type":"CodeVariablesMetaInformation","variables":[{"type":"VariableDeclaratorNode","identifier":{"type":"IdentifierNode","name":"obj","comments":[]},"arrayDepth":[]},{"type":"VariableDeclaratorNode","identifier":{"type":"IdentifierNode","name":"formatter","comments":[]},"arrayDepth":[],"assignment":{"type":"VariableAssignmentNode","variableAssignment":{"type":"VariableExpressionInitNode","expression":{"type":"ConstructorCreatorNode","creatorType":{"type":"ReferenceTypeNode","ids":[{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"BinaryFormatter","comments":[]},"comments":[]}],"comments":[]},"expressionArgs":{"type":"ExpressionListNode","arguments":[],"comments":[]},"comments":[]}},"comments":[]},"varType":{"type":"ReferenceTypeNode","ids":[{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"BinaryFormatter","comments":[]},"comments":[]}],"comments":[]}},{"type":"VariableDeclaratorNode","identifier":{"type":"IdentifierNode","name":"result","comments":[]},"arrayDepth":[],"assignment":{"type":"VariableAssignmentNode","variableAssignment":{"type":"VariableExpressionInitNode","expression":{"type":"MethodInvocationNode","qualifiedIdentifier":{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"stream","comments":[]}],"comments":[]},"identifier":{"type":"IdentifierNode","name":"GetBuffer","comments":[]},"args":{"type":"ExpressionListNode","arguments":[],"comments":[]},"comments":[]}},"comments":[]},"varType":{"type":"ArrayTypeNode","typeNode":{"type":"PrimitiveTypeNode","name":"byte","comments":[]},"depth":[{"type":"ArrayDimensionNode","comments":[]}]}},{"type":"VariableDeclaratorNode","identifier":{"type":"IdentifierNode","name":"data","comments":[]},"arrayDepth":[]},{"type":"VariableDeclaratorNode","identifier":{"type":"IdentifierNode","name":"formatter","comments":[]},"arrayDepth":[],"assignment":{"type":"VariableAssignmentNode","variableAssignment":{"type":"VariableExpressionInitNode","expression":{"type":"ConstructorCreatorNode","creatorType":{"type":"ReferenceTypeNode","ids":[{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"BinaryFormatter","comments":[]},"comments":[]}],"comments":[]},"expressionArgs":{"type":"ExpressionListNode","arguments":[],"comments":[]},"comments":[]}},"comments":[]},"varType":{"type":"ReferenceTypeNode","ids":[{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"BinaryFormatter","comments":[]},"comments":[]}],"comments":[]}}]},{"type":"CodeIdentifiersMetaInformation","identifiers":[{"type":"IdentifierNode","name":"DotNetSerializer","comments":[]},{"type":"IdentifierNode","name":"Serialize","comments":[]},{"type":"IdentifierNode","name":"object","comments":[]},{"type":"IdentifierNode","name":"obj","comments":[]},{"type":"IdentifierNode","name":"formatter","comments":[]},{"type":"IdentifierNode","name":"BinaryFormatter","comments":[]},{"type":"IdentifierNode","name":"BinaryFormatter","comments":[]},{"type":"IdentifierNode","name":"MemoryStream","comments":[]},{"type":"IdentifierNode","name":"MemoryStream","comments":[]},{"type":"IdentifierNode","name":"formatter","comments":[]},{"type":"IdentifierNode","name":"Serialize","comments":[]},{"type":"IdentifierNode","name":"stream","comments":[]},{"type":"IdentifierNode","name":"obj","comments":[]},{"type":"IdentifierNode","name":"result","comments":[]},{"type":"IdentifierNode","name":"stream","comments":[]},{"type":"IdentifierNode","name":"GetBuffer","comments":[]},{"type":"IdentifierNode","name":"result","comments":[]},{"type":"IdentifierNode","name":"object","comments":[]},{"type":"IdentifierNode","name":"Deserialize","comments":[]},{"type":"IdentifierNode","name":"data","comments":[]},{"type":"IdentifierNode","name":"formatter","comments":[]},{"type":"IdentifierNode","name":"BinaryFormatter","comments":[]},{"type":"IdentifierNode","name":"BinaryFormatter","comments":[]},{"type":"IdentifierNode","name":"MemoryStream","comments":[]},{"type":"IdentifierNode","name":"data","comments":[]},{"type":"IdentifierNode","name":"formatter","comments":[]},{"type":"IdentifierNode","name":"Deserialize","comments":[]},{"type":"IdentifierNode","name":"stream","comments":[]}]},{"type":"CodeMethodDeclaratorsMetaInformation","declarators":[{"type":"MethodDeclaratorNode","modifiers":[{"type":"KeywordModifierNode","value":"public","comments":[]}],"returnType":{"type":"ArrayTypeNode","typeNode":{"type":"PrimitiveTypeNode","name":"byte","comments":[]},"depth":[{"type":"ArrayDimensionNode","comments":[]}]},"identifier":{"type":"IdentifierNode","name":"Serialize","comments":[]},"parameters":{"type":"FormalParametersNode","parameters":{"type":"FormalParameterDeclsNode","formalParameters":[{"type":"FormalParameterDeclNode","modifiers":[],"parameterType":{"type":"ReferenceTypeNode","ids":[{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"object","comments":[]},"comments":[]}],"comments":[]},"variableDeclarator":{"type":"VariableDeclaratorNode","identifier":{"type":"IdentifierNode","name":"obj","comments":[]},"arrayDepth":[]},"isVariadic":false,"comments":[]}],"comments":[]},"comments":[]},"arrayReturnType":[],"comments":[]},{"type":"MethodDeclaratorNode","modifiers":[{"type":"KeywordModifierNode","value":"public","comments":[]}],"returnType":{"type":"ReferenceTypeNode","ids":[{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"object","comments":[]},"comments":[]}],"comments":[]},"identifier":{"type":"IdentifierNode","name":"Deserialize","comments":[]},"parameters":{"type":"FormalParametersNode","parameters":{"type":"FormalParameterDeclsNode","formalParameters":[{"type":"FormalParameterDeclNode","modifiers":[],"parameterType":{"type":"ArrayTypeNode","typeNode":{"type":"PrimitiveTypeNode","name":"byte","comments":[]},"depth":[{"type":"ArrayDimensionNode","comments":[]}]},"variableDeclarator":{"type":"VariableDeclaratorNode","identifier":{"type":"IdentifierNode","name":"data","comments":[]},"arrayDepth":[]},"isVariadic":false,"comments":[]}],"comments":[]},"comments":[]},"arrayReturnType":[],"comments":[]}]}]},{"type":"NaturalLanguageTaggedUnit","id":"1000004-u4","astNode":{"type":"HASTNodeSequence","fragments":[{"type":"TextFragmentNode","text":"The serialized form of "},{"type":"ReferenceTypeNode","ids":[{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"MyClass","comments":[]},"comments":[]}],"comments":[]},{"type":"TextFragmentNode","text":"will contain information about assembly in which "},{"type":"ReferenceTypeNode","ids":[{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"MyClass","comments":[]},"comments":[]}],"comments":[]},{"type":"TextFragmentNode","text":"is defined. However, if serializer will be implemented with usage of Java's classes (converted with IKVM) then there will be "},{"type":"ReferenceTypeNode","ids":[{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"ClassNotFound","comments":[]},"comments":[]}],"comments":[]},{"type":"TextFragmentNode","text":"exception thrown during deserialization. This is a serializer implementation using Java classes:"}]},"rawText":"The serialized form of MyClass will contain information about assembly in which MyClass is defined. However, if serializer will be implemented with usage of Java's classes (converted with IKVM) then there will be ClassNotFound exception thrown during deserialization. This is a serializer implementation using Java classes:","source":{"type":"XmlSourceInfo","node":{"type":"XmlComposedNode","name":{"type":"XmlNameNode","value":"p"},"attributes":[],"elements":[{"type":"XmlTextNode","contents":"The serialized form of MyClass will contain information about assembly in which MyClass is defined. However, if serializer will be implemented with usage of Java's classes (converted with IKVM) then there will be ClassNotFound exception thrown during deserialization. This is a serializer implementation using Java classes:"}]}},"metaInformation":[{"type":"NaturalLanguageMetaInformation","tfMap":{"serial":3,"assembl":1,"thrown":1,"found":1,"inform":1,"implement":2,"usag":1,"class":2,"deseri":1,"defin":1,"form":1,"ikvm":1,"convert":1}},{"type":"CodeTypesMetaInformation","qualifiedTypes":[],"simpleTypes":[{"type":"ReferenceTypeNode","ids":[{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"MyClass","comments":[]},"comments":[]}],"comments":[]},{"type":"ReferenceTypeNode","ids":[{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"ClassNotFound","comments":[]},"comments":[]}],"comments":[]}],"basicTypes":[]},{"type":"CodeInvocationMetaInformation","invocations":[]},{"type":"CodeVariablesMetaInformation","variables":[]},{"type":"CodeIdentifiersMetaInformation","identifiers":[{"type":"IdentifierNode","name":"MyClass","comments":[]},{"type":"IdentifierNode","name":"MyClass","comments":[]},{"type":"IdentifierNode","name":"ClassNotFound","comments":[]}]},{"type":"CodeMethodDeclaratorsMetaInformation","declarators":[]},{"type":"TextReadabilityMetaInformation","fleshReadingEaseScore":28.933333333333366,"fleshKincaidGradeLevel":13.115744680851066,"automatedReadingIndex":13.661205673758865,"gunningFogIndex":12.224113475177305,"smogIndex":11.366600265340756,"colemanLiauIndex":16.37191489361702}]},{"type":"CodeTaggedUnit","id":"1000004-u5","astNode":{"type":"HASTNodeSequence","fragments":[{"type":"ClassDeclarationNode","modifiers":[{"type":"KeywordModifierNode","value":"public","comments":[]}],"identifier":{"type":"IdentifierNode","name":"JavaSerializer","comments":[]},"labels":[],"comments":[]},{"type":"TextFragmentNode","text":": ISerializer\n{\n    "},{"type":"MethodDeclaratorNode","modifiers":[{"type":"KeywordModifierNode","value":"public","comments":[]}],"returnType":{"type":"ReferenceTypeNode","ids":[{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"object","comments":[]},"comments":[]}],"comments":[]},"identifier":{"type":"IdentifierNode","name":"Deserialize","comments":[]},"parameters":{"type":"FormalParametersNode","parameters":{"type":"FormalParameterDeclsNode","formalParameters":[{"type":"FormalParameterDeclNode","modifiers":[],"parameterType":{"type":"ArrayTypeNode","typeNode":{"type":"PrimitiveTypeNode","name":"byte","comments":[]},"depth":[{"type":"ArrayDimensionNode","comments":[]}]},"variableDeclarator":{"type":"VariableDeclaratorNode","identifier":{"type":"IdentifierNode","name":"data","comments":[]},"arrayDepth":[]},"isVariadic":false,"comments":[]}],"comments":[]},"comments":[]},"arrayReturnType":[],"body":{"type":"BlockNode","statements":[{"type":"LocalVariableDeclarationStatementNode","modifiers":[],"declarators":{"type":"VariableDeclaratorsNode","declarators":[{"type":"VariableDeclaratorNode","identifier":{"type":"IdentifierNode","name":"stream","comments":[]},"arrayDepth":[],"assignment":{"type":"VariableAssignmentNode","variableAssignment":{"type":"VariableExpressionInitNode","expression":{"type":"ConstructorCreatorNode","creatorType":{"type":"ReferenceTypeNode","ids":[{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"ByteArrayInputStream","comments":[]},"comments":[]}],"comments":[]},"expressionArgs":{"type":"ExpressionListNode","arguments":[{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"data","comments":[]}],"comments":[]}],"comments":[]},"comments":[]}},"comments":[]},"varType":{"type":"ReferenceTypeNode","ids":[{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"ByteArrayInputStream","comments":[]},"comments":[]}],"comments":[]}}],"comments":[]},"labels":[],"comments":[]},{"type":"LocalVariableDeclarationStatementNode","modifiers":[],"declarators":{"type":"VariableDeclaratorsNode","declarators":[{"type":"VariableDeclaratorNode","identifier":{"type":"IdentifierNode","name":"ois","comments":[]},"arrayDepth":[],"assignment":{"type":"VariableAssignmentNode","variableAssignment":{"type":"VariableExpressionInitNode","expression":{"type":"ConstructorCreatorNode","creatorType":{"type":"ReferenceTypeNode","ids":[{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"ObjectInputStream","comments":[]},"comments":[]}],"comments":[]},"expressionArgs":{"type":"ExpressionListNode","arguments":[{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"stream","comments":[]}],"comments":[]}],"comments":[]},"comments":[]}},"comments":[]},"varType":{"type":"ReferenceTypeNode","ids":[{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"ObjectInputStream","comments":[]},"comments":[]}],"comments":[]}}],"comments":[]},"labels":[],"comments":[]},{"type":"ReturnStatementNode","expression":{"type":"MethodInvocationNode","qualifiedIdentifier":{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"ois","comments":[]}],"comments":[]},"identifier":{"type":"IdentifierNode","name":"readObject","comments":[]},"args":{"type":"ExpressionListNode","arguments":[],"comments":[]},"comments":[]},"labels":[],"comments":[]}],"labels":[],"comments":[]},"comments":[]},{"type":"MethodDeclaratorNode","modifiers":[{"type":"KeywordModifierNode","value":"public","comments":[]}],"returnType":{"type":"ArrayTypeNode","typeNode":{"type":"PrimitiveTypeNode","name":"byte","comments":[]},"depth":[{"type":"ArrayDimensionNode","comments":[]}]},"identifier":{"type":"IdentifierNode","name":"Serialize","comments":[]},"parameters":{"type":"FormalParametersNode","parameters":{"type":"FormalParameterDeclsNode","formalParameters":[{"type":"FormalParameterDeclNode","modifiers":[],"parameterType":{"type":"ReferenceTypeNode","ids":[{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"object","comments":[]},"comments":[]}],"comments":[]},"variableDeclarator":{"type":"VariableDeclaratorNode","identifier":{"type":"IdentifierNode","name":"obj","comments":[]},"arrayDepth":[]},"isVariadic":false,"comments":[]}],"comments":[]},"comments":[]},"arrayReturnType":[],"body":{"type":"BlockNode","statements":[{"type":"LocalVariableDeclarationStatementNode","modifiers":[],"declarators":{"type":"VariableDeclaratorsNode","declarators":[{"type":"VariableDeclaratorNode","identifier":{"type":"IdentifierNode","name":"stream","comments":[]},"arrayDepth":[],"assignment":{"type":"VariableAssignmentNode","variableAssignment":{"type":"VariableExpressionInitNode","expression":{"type":"ConstructorCreatorNode","creatorType":{"type":"ReferenceTypeNode","ids":[{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"ByteArrayOutputStream","comments":[]},"comments":[]}],"comments":[]},"expressionArgs":{"type":"ExpressionListNode","arguments":[],"comments":[]},"comments":[]}},"comments":[]},"varType":{"type":"ReferenceTypeNode","ids":[{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"ByteArrayOutputStream","comments":[]},"comments":[]}],"comments":[]}}],"comments":[]},"labels":[],"comments":[]},{"type":"LocalVariableDeclarationStatementNode","modifiers":[],"declarators":{"type":"VariableDeclaratorsNode","declarators":[{"type":"VariableDeclaratorNode","identifier":{"type":"IdentifierNode","name":"oos","comments":[]},"arrayDepth":[],"assignment":{"type":"VariableAssignmentNode","variableAssignment":{"type":"VariableExpressionInitNode","expression":{"type":"ConstructorCreatorNode","creatorType":{"type":"ReferenceTypeNode","ids":[{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"ObjectOutputStream","comments":[]},"comments":[]}],"comments":[]},"expressionArgs":{"type":"ExpressionListNode","arguments":[{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"stream","comments":[]}],"comments":[]}],"comments":[]},"comments":[]}},"comments":[]},"varType":{"type":"ReferenceTypeNode","ids":[{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"ObjectOutputStream","comments":[]},"comments":[]}],"comments":[]}}],"comments":[]},"labels":[],"comments":[]},{"type":"ExpressionStatement","expression":{"type":"MethodInvocationNode","qualifiedIdentifier":{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"oos","comments":[]}],"comments":[]},"identifier":{"type":"IdentifierNode","name":"writeObject","comments":[]},"args":{"type":"ExpressionListNode","arguments":[{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"obj","comments":[]}],"comments":[]}],"comments":[]},"comments":[]},"labels":[]},{"type":"ExpressionStatement","expression":{"type":"MethodInvocationNode","qualifiedIdentifier":{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"stream","comments":[]}],"comments":[]},"identifier":{"type":"IdentifierNode","name":"flush","comments":[]},"args":{"type":"ExpressionListNode","arguments":[],"comments":[]},"comments":[]},"labels":[]},{"type":"ReturnStatementNode","expression":{"type":"MethodInvocationNode","qualifiedIdentifier":{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"stream","comments":[]}],"comments":[]},"identifier":{"type":"IdentifierNode","name":"toByteArray","comments":[]},"args":{"type":"ExpressionListNode","arguments":[],"comments":[]},"comments":[]},"labels":[],"comments":[]}],"labels":[],"comments":[]},"comments":[]},{"type":"TextFragmentNode","text":"}\n"}]},"rawText":"public class JavaSerializer : ISerializer\n{\n    public object Deserialize(byte[] data)\n    {\n        ByteArrayInputStream stream = new ByteArrayInputStream(data);\n        ObjectInputStream ois = new ObjectInputStream(stream);\n        return ois.readObject();\n    }\n\n    public byte[] Serialize(object obj)\n    {\n        ByteArrayOutputStream stream = new ByteArrayOutputStream();\n        ObjectOutputStream oos = new ObjectOutputStream(stream);\n        oos.writeObject(obj);\n        stream.flush();\n        return stream.toByteArray();\n    }\n}\n","source":{"type":"XmlSourceInfo","node":{"type":"XmlComposedNode","name":{"type":"XmlNameNode","value":"pre"},"attributes":[],"elements":[{"type":"XmlComposedNode","name":{"type":"XmlNameNode","value":"code"},"attributes":[],"elements":[{"type":"XmlTextNode","contents":"public class JavaSerializer : ISerializer\n{\n    public object Deserialize(byte[] data)\n    {\n        ByteArrayInputStream stream = new ByteArrayInputStream(data);\n        ObjectInputStream ois = new ObjectInputStream(stream);\n        return ois.readObject();\n    }\n\n    public byte[] Serialize(object obj)\n    {\n        ByteArrayOutputStream stream = new ByteArrayOutputStream();\n        ObjectOutputStream oos = new ObjectOutputStream(stream);\n        oos.writeObject(obj);\n        stream.flush();\n        return stream.toByteArray();\n    }\n}\n"}]}]}},"metaInformation":[{"type":"NaturalLanguageMetaInformation","tfMap":{"iseri":1,"serial":2,"read":1,"data":2,"oi":2,"obj":2,"object":8,"array":5,"stream":14,"flush":1,"deseri":1,"output":4,"oo":2,"input":4,"write":1}},{"type":"CodeTypesMetaInformation","qualifiedTypes":[],"simpleTypes":[{"type":"ReferenceTypeNode","ids":[{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"ByteArrayInputStream","comments":[]},"comments":[]}],"comments":[]},{"type":"ReferenceTypeNode","ids":[{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"ObjectInputStream","comments":[]},"comments":[]}],"comments":[]},{"type":"ReferenceTypeNode","ids":[{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"object","comments":[]},"comments":[]}],"comments":[]},{"type":"ReferenceTypeNode","ids":[{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"ObjectOutputStream","comments":[]},"comments":[]}],"comments":[]},{"type":"ReferenceTypeNode","ids":[{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"ByteArrayOutputStream","comments":[]},"comments":[]}],"comments":[]}],"basicTypes":[{"type":"PrimitiveTypeNode","name":"byte","comments":[]},{"type":"PrimitiveTypeNode","name":"byte","comments":[]}]},{"type":"CodeInvocationMetaInformation","invocations":[{"type":"MethodInvocationNode","qualifiedIdentifier":{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"ois","comments":[]}],"comments":[]},"identifier":{"type":"IdentifierNode","name":"readObject","comments":[]},"args":{"type":"ExpressionListNode","arguments":[],"comments":[]},"comments":[]},{"type":"MethodInvocationNode","qualifiedIdentifier":{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"oos","comments":[]}],"comments":[]},"identifier":{"type":"IdentifierNode","name":"writeObject","comments":[]},"args":{"type":"ExpressionListNode","arguments":[{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"obj","comments":[]}],"comments":[]}],"comments":[]},"comments":[]},{"type":"MethodInvocationNode","qualifiedIdentifier":{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"stream","comments":[]}],"comments":[]},"identifier":{"type":"IdentifierNode","name":"flush","comments":[]},"args":{"type":"ExpressionListNode","arguments":[],"comments":[]},"comments":[]},{"type":"MethodInvocationNode","qualifiedIdentifier":{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"stream","comments":[]}],"comments":[]},"identifier":{"type":"IdentifierNode","name":"toByteArray","comments":[]},"args":{"type":"ExpressionListNode","arguments":[],"comments":[]},"comments":[]}]},{"type":"CodeVariablesMetaInformation","variables":[{"type":"VariableDeclaratorNode","identifier":{"type":"IdentifierNode","name":"data","comments":[]},"arrayDepth":[]},{"type":"VariableDeclaratorNode","identifier":{"type":"IdentifierNode","name":"stream","comments":[]},"arrayDepth":[],"assignment":{"type":"VariableAssignmentNode","variableAssignment":{"type":"VariableExpressionInitNode","expression":{"type":"ConstructorCreatorNode","creatorType":{"type":"ReferenceTypeNode","ids":[{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"ByteArrayInputStream","comments":[]},"comments":[]}],"comments":[]},"expressionArgs":{"type":"ExpressionListNode","arguments":[{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"data","comments":[]}],"comments":[]}],"comments":[]},"comments":[]}},"comments":[]},"varType":{"type":"ReferenceTypeNode","ids":[{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"ByteArrayInputStream","comments":[]},"comments":[]}],"comments":[]}},{"type":"VariableDeclaratorNode","identifier":{"type":"IdentifierNode","name":"ois","comments":[]},"arrayDepth":[],"assignment":{"type":"VariableAssignmentNode","variableAssignment":{"type":"VariableExpressionInitNode","expression":{"type":"ConstructorCreatorNode","creatorType":{"type":"ReferenceTypeNode","ids":[{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"ObjectInputStream","comments":[]},"comments":[]}],"comments":[]},"expressionArgs":{"type":"ExpressionListNode","arguments":[{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"stream","comments":[]}],"comments":[]}],"comments":[]},"comments":[]}},"comments":[]},"varType":{"type":"ReferenceTypeNode","ids":[{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"ObjectInputStream","comments":[]},"comments":[]}],"comments":[]}},{"type":"VariableDeclaratorNode","identifier":{"type":"IdentifierNode","name":"obj","comments":[]},"arrayDepth":[]},{"type":"VariableDeclaratorNode","identifier":{"type":"IdentifierNode","name":"stream","comments":[]},"arrayDepth":[],"assignment":{"type":"VariableAssignmentNode","variableAssignment":{"type":"VariableExpressionInitNode","expression":{"type":"ConstructorCreatorNode","creatorType":{"type":"ReferenceTypeNode","ids":[{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"ByteArrayOutputStream","comments":[]},"comments":[]}],"comments":[]},"expressionArgs":{"type":"ExpressionListNode","arguments":[],"comments":[]},"comments":[]}},"comments":[]},"varType":{"type":"ReferenceTypeNode","ids":[{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"ByteArrayOutputStream","comments":[]},"comments":[]}],"comments":[]}},{"type":"VariableDeclaratorNode","identifier":{"type":"IdentifierNode","name":"oos","comments":[]},"arrayDepth":[],"assignment":{"type":"VariableAssignmentNode","variableAssignment":{"type":"VariableExpressionInitNode","expression":{"type":"ConstructorCreatorNode","creatorType":{"type":"ReferenceTypeNode","ids":[{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"ObjectOutputStream","comments":[]},"comments":[]}],"comments":[]},"expressionArgs":{"type":"ExpressionListNode","arguments":[{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"stream","comments":[]}],"comments":[]}],"comments":[]},"comments":[]}},"comments":[]},"varType":{"type":"ReferenceTypeNode","ids":[{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"ObjectOutputStream","comments":[]},"comments":[]}],"comments":[]}}]},{"type":"CodeIdentifiersMetaInformation","identifiers":[{"type":"IdentifierNode","name":"JavaSerializer","comments":[]},{"type":"IdentifierNode","name":"object","comments":[]},{"type":"IdentifierNode","name":"Deserialize","comments":[]},{"type":"IdentifierNode","name":"data","comments":[]},{"type":"IdentifierNode","name":"stream","comments":[]},{"type":"IdentifierNode","name":"ByteArrayInputStream","comments":[]},{"type":"IdentifierNode","name":"data","comments":[]},{"type":"IdentifierNode","name":"ByteArrayInputStream","comments":[]},{"type":"IdentifierNode","name":"ois","comments":[]},{"type":"IdentifierNode","name":"ObjectInputStream","comments":[]},{"type":"IdentifierNode","name":"stream","comments":[]},{"type":"IdentifierNode","name":"ObjectInputStream","comments":[]},{"type":"IdentifierNode","name":"ois","comments":[]},{"type":"IdentifierNode","name":"readObject","comments":[]},{"type":"IdentifierNode","name":"Serialize","comments":[]},{"type":"IdentifierNode","name":"object","comments":[]},{"type":"IdentifierNode","name":"obj","comments":[]},{"type":"IdentifierNode","name":"stream","comments":[]},{"type":"IdentifierNode","name":"ByteArrayOutputStream","comments":[]},{"type":"IdentifierNode","name":"ByteArrayOutputStream","comments":[]},{"type":"IdentifierNode","name":"oos","comments":[]},{"type":"IdentifierNode","name":"ObjectOutputStream","comments":[]},{"type":"IdentifierNode","name":"stream","comments":[]},{"type":"IdentifierNode","name":"ObjectOutputStream","comments":[]},{"type":"IdentifierNode","name":"oos","comments":[]},{"type":"IdentifierNode","name":"writeObject","comments":[]},{"type":"IdentifierNode","name":"obj","comments":[]},{"type":"IdentifierNode","name":"stream","comments":[]},{"type":"IdentifierNode","name":"flush","comments":[]},{"type":"IdentifierNode","name":"stream","comments":[]},{"type":"IdentifierNode","name":"toByteArray","comments":[]}]},{"type":"CodeMethodDeclaratorsMetaInformation","declarators":[{"type":"MethodDeclaratorNode","modifiers":[{"type":"KeywordModifierNode","value":"public","comments":[]}],"returnType":{"type":"ReferenceTypeNode","ids":[{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"object","comments":[]},"comments":[]}],"comments":[]},"identifier":{"type":"IdentifierNode","name":"Deserialize","comments":[]},"parameters":{"type":"FormalParametersNode","parameters":{"type":"FormalParameterDeclsNode","formalParameters":[{"type":"FormalParameterDeclNode","modifiers":[],"parameterType":{"type":"ArrayTypeNode","typeNode":{"type":"PrimitiveTypeNode","name":"byte","comments":[]},"depth":[{"type":"ArrayDimensionNode","comments":[]}]},"variableDeclarator":{"type":"VariableDeclaratorNode","identifier":{"type":"IdentifierNode","name":"data","comments":[]},"arrayDepth":[]},"isVariadic":false,"comments":[]}],"comments":[]},"comments":[]},"arrayReturnType":[],"body":{"type":"BlockNode","statements":[{"type":"LocalVariableDeclarationStatementNode","modifiers":[],"declarators":{"type":"VariableDeclaratorsNode","declarators":[{"type":"VariableDeclaratorNode","identifier":{"type":"IdentifierNode","name":"stream","comments":[]},"arrayDepth":[],"assignment":{"type":"VariableAssignmentNode","variableAssignment":{"type":"VariableExpressionInitNode","expression":{"type":"ConstructorCreatorNode","creatorType":{"type":"ReferenceTypeNode","ids":[{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"ByteArrayInputStream","comments":[]},"comments":[]}],"comments":[]},"expressionArgs":{"type":"ExpressionListNode","arguments":[{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"data","comments":[]}],"comments":[]}],"comments":[]},"comments":[]}},"comments":[]},"varType":{"type":"ReferenceTypeNode","ids":[{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"ByteArrayInputStream","comments":[]},"comments":[]}],"comments":[]}}],"comments":[]},"labels":[],"comments":[]},{"type":"LocalVariableDeclarationStatementNode","modifiers":[],"declarators":{"type":"VariableDeclaratorsNode","declarators":[{"type":"VariableDeclaratorNode","identifier":{"type":"IdentifierNode","name":"ois","comments":[]},"arrayDepth":[],"assignment":{"type":"VariableAssignmentNode","variableAssignment":{"type":"VariableExpressionInitNode","expression":{"type":"ConstructorCreatorNode","creatorType":{"type":"ReferenceTypeNode","ids":[{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"ObjectInputStream","comments":[]},"comments":[]}],"comments":[]},"expressionArgs":{"type":"ExpressionListNode","arguments":[{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"stream","comments":[]}],"comments":[]}],"comments":[]},"comments":[]}},"comments":[]},"varType":{"type":"ReferenceTypeNode","ids":[{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"ObjectInputStream","comments":[]},"comments":[]}],"comments":[]}}],"comments":[]},"labels":[],"comments":[]},{"type":"ReturnStatementNode","expression":{"type":"MethodInvocationNode","qualifiedIdentifier":{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"ois","comments":[]}],"comments":[]},"identifier":{"type":"IdentifierNode","name":"readObject","comments":[]},"args":{"type":"ExpressionListNode","arguments":[],"comments":[]},"comments":[]},"labels":[],"comments":[]}],"labels":[],"comments":[]},"comments":[]},{"type":"MethodDeclaratorNode","modifiers":[{"type":"KeywordModifierNode","value":"public","comments":[]}],"returnType":{"type":"ArrayTypeNode","typeNode":{"type":"PrimitiveTypeNode","name":"byte","comments":[]},"depth":[{"type":"ArrayDimensionNode","comments":[]}]},"identifier":{"type":"IdentifierNode","name":"Serialize","comments":[]},"parameters":{"type":"FormalParametersNode","parameters":{"type":"FormalParameterDeclsNode","formalParameters":[{"type":"FormalParameterDeclNode","modifiers":[],"parameterType":{"type":"ReferenceTypeNode","ids":[{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"object","comments":[]},"comments":[]}],"comments":[]},"variableDeclarator":{"type":"VariableDeclaratorNode","identifier":{"type":"IdentifierNode","name":"obj","comments":[]},"arrayDepth":[]},"isVariadic":false,"comments":[]}],"comments":[]},"comments":[]},"arrayReturnType":[],"body":{"type":"BlockNode","statements":[{"type":"LocalVariableDeclarationStatementNode","modifiers":[],"declarators":{"type":"VariableDeclaratorsNode","declarators":[{"type":"VariableDeclaratorNode","identifier":{"type":"IdentifierNode","name":"stream","comments":[]},"arrayDepth":[],"assignment":{"type":"VariableAssignmentNode","variableAssignment":{"type":"VariableExpressionInitNode","expression":{"type":"ConstructorCreatorNode","creatorType":{"type":"ReferenceTypeNode","ids":[{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"ByteArrayOutputStream","comments":[]},"comments":[]}],"comments":[]},"expressionArgs":{"type":"ExpressionListNode","arguments":[],"comments":[]},"comments":[]}},"comments":[]},"varType":{"type":"ReferenceTypeNode","ids":[{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"ByteArrayOutputStream","comments":[]},"comments":[]}],"comments":[]}}],"comments":[]},"labels":[],"comments":[]},{"type":"LocalVariableDeclarationStatementNode","modifiers":[],"declarators":{"type":"VariableDeclaratorsNode","declarators":[{"type":"VariableDeclaratorNode","identifier":{"type":"IdentifierNode","name":"oos","comments":[]},"arrayDepth":[],"assignment":{"type":"VariableAssignmentNode","variableAssignment":{"type":"VariableExpressionInitNode","expression":{"type":"ConstructorCreatorNode","creatorType":{"type":"ReferenceTypeNode","ids":[{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"ObjectOutputStream","comments":[]},"comments":[]}],"comments":[]},"expressionArgs":{"type":"ExpressionListNode","arguments":[{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"stream","comments":[]}],"comments":[]}],"comments":[]},"comments":[]}},"comments":[]},"varType":{"type":"ReferenceTypeNode","ids":[{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"ObjectOutputStream","comments":[]},"comments":[]}],"comments":[]}}],"comments":[]},"labels":[],"comments":[]},{"type":"ExpressionStatement","expression":{"type":"MethodInvocationNode","qualifiedIdentifier":{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"oos","comments":[]}],"comments":[]},"identifier":{"type":"IdentifierNode","name":"writeObject","comments":[]},"args":{"type":"ExpressionListNode","arguments":[{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"obj","comments":[]}],"comments":[]}],"comments":[]},"comments":[]},"labels":[]},{"type":"ExpressionStatement","expression":{"type":"MethodInvocationNode","qualifiedIdentifier":{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"stream","comments":[]}],"comments":[]},"identifier":{"type":"IdentifierNode","name":"flush","comments":[]},"args":{"type":"ExpressionListNode","arguments":[],"comments":[]},"comments":[]},"labels":[]},{"type":"ReturnStatementNode","expression":{"type":"MethodInvocationNode","qualifiedIdentifier":{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"stream","comments":[]}],"comments":[]},"identifier":{"type":"IdentifierNode","name":"toByteArray","comments":[]},"args":{"type":"ExpressionListNode","arguments":[],"comments":[]},"comments":[]},"labels":[],"comments":[]}],"labels":[],"comments":[]},"comments":[]}]}]},{"type":"NaturalLanguageTaggedUnit","id":"1000004-u6","astNode":{"type":"HASTNodeSequence","fragments":[{"type":"TextFragmentNode","text":"This will not work in .Net, but will work normally in Java if loaded from Eclipse with additional entries in plugin manifests such as "},{"type":"ReferenceTypeNode","ids":[{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"BuddyPolicy","comments":[]},"comments":[]}],"comments":[]},{"type":"TextFragmentNode","text":"and RegisterBuddy. I can't just switch from "},{"type":"ReferenceTypeNode","ids":[{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"JavaSerializer","comments":[]},"comments":[]}],"comments":[]},{"type":"TextFragmentNode","text":"to "},{"type":"ReferenceTypeNode","ids":[{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"DotNetSerializer","comments":[]},"comments":[]}],"comments":[]},{"type":"TextFragmentNode","text":"since in my application (which is mostly written in Java) there are lots of "},{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"readObject","comments":[]}],"comments":[]},{"type":"TextFragmentNode","text":","},{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"writeObject","comments":[]}],"comments":[]},{"type":"TextFragmentNode","text":","},{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"readResolve","comments":[]}],"comments":[]},{"type":"TextFragmentNode","text":",etc... But I need to fix that problem somehow, so I seeking for solution. Currently I see some hypothetical ways of solution:"}]},"rawText":"This will not work in .Net, but will work normally in Java if loaded from Eclipse with additional entries in plugin manifests such as BuddyPolicy and RegisterBuddy. I can't just switch from JavaSerializer to DotNetSerializer since in my application (which is mostly written in Java) there are lots of readObject,writeObject,readResolve,etc... But I need to fix that problem somehow, so I seeking for solution. Currently I see some hypothetical ways of solution:","source":{"type":"XmlSourceInfo","node":{"type":"XmlComposedNode","name":{"type":"XmlNameNode","value":"p"},"attributes":[],"elements":[{"type":"XmlTextNode","contents":"This will not work in .Net, but will work normally in Java if loaded from Eclipse with additional entries in plugin manifests such as BuddyPolicy and RegisterBuddy. I can't just switch from JavaSerializer to DotNetSerializer since in my application (which is mostly written in Java) there are lots of readObject,writeObject,readResolve,etc... But I need to fix that problem somehow, so I seeking for solution. Currently I see some hypothetical ways of solution:"}]}},"metaInformation":[{"type":"NaturalLanguageMetaInformation","tfMap":{"plugin":1,"serial":2,"read":2,"dot":1,"resolv":1,"hypothet":1,"addit":1,"problem":1,"seek":1,"fix":1,"regist":1,"load":1,"way":1,"work":2,"net":2,"object":2,"eclips":1,"entri":1,"written":1,"buddi":2,"polici":1,"applic":1,"lot":1,"manifest":1,"solut":2,"write":1}},{"type":"CodeTypesMetaInformation","qualifiedTypes":[],"simpleTypes":[{"type":"ReferenceTypeNode","ids":[{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"BuddyPolicy","comments":[]},"comments":[]}],"comments":[]},{"type":"ReferenceTypeNode","ids":[{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"JavaSerializer","comments":[]},"comments":[]}],"comments":[]},{"type":"ReferenceTypeNode","ids":[{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"DotNetSerializer","comments":[]},"comments":[]}],"comments":[]}],"basicTypes":[]},{"type":"CodeInvocationMetaInformation","invocations":[]},{"type":"CodeVariablesMetaInformation","variables":[]},{"type":"CodeIdentifiersMetaInformation","identifiers":[{"type":"IdentifierNode","name":"BuddyPolicy","comments":[]},{"type":"IdentifierNode","name":"JavaSerializer","comments":[]},{"type":"IdentifierNode","name":"DotNetSerializer","comments":[]},{"type":"IdentifierNode","name":"readObject","comments":[]},{"type":"IdentifierNode","name":"writeObject","comments":[]},{"type":"IdentifierNode","name":"readResolve","comments":[]}]},{"type":"CodeMethodDeclaratorsMetaInformation","declarators":[]},{"type":"TextReadabilityMetaInformation","fleshReadingEaseScore":48.35400000000004,"fleshKincaidGradeLevel":10.241333333333337,"automatedReadingIndex":9.808399999999999,"gunningFogIndex":9.200000000000001,"smogIndex":9.0,"colemanLiauIndex":11.8856}]},{"type":"NaturalLanguageTaggedUnit","id":"1000004-u7","astNode":{"type":"HASTNodeSequence","fragments":[{"type":"TextFragmentNode","text":"Overloading some method of "},{"type":"ReferenceTypeNode","ids":[{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"ObjectOutputStream","comments":[]},"comments":[]}],"comments":[]},{"type":"TextFragmentNode","text":", so serialized form of "},{"type":"ReferenceTypeNode","ids":[{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"MyClass","comments":[]},"comments":[]}],"comments":[]},{"type":"TextFragmentNode","text":"will contain assembly name too, like \""},{"type":"ReferenceTypeNode","ids":[{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"MyClass","comments":[]},"comments":[]}],"comments":[]},{"type":"TextFragmentNode","text":", "},{"type":"ReferenceTypeNode","ids":[{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"MyAssembly","comments":[]},"comments":[]}],"comments":[]},{"type":"TextFragmentNode","text":", ...\".Overloading some method in "},{"type":"ReferenceTypeNode","ids":[{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"ObjectInputStream","comments":[]},"comments":[]}],"comments":[]},{"type":"TextFragmentNode","text":", so class will be loaded in some different way, maybe it should be searched in some different assembly, etc.Adding some information to assemblies manifests so IKVM will know where to search for MyClass.\nIs anything of this is real? How this problem should be solved?"}]},"rawText":"Overloading some method of ObjectOutputStream, so serialized form of MyClass will contain assembly name too, like \"MyClass, MyAssembly, ...\".Overloading some method in ObjectInputStream, so class will be loaded in some different way, maybe it should be searched in some different assembly, etc.Adding some information to assemblies manifests so IKVM will know where to search for MyClass.\nIs anything of this is real? How this problem should be solved?","source":{"type":"XmlSourceInfo","node":{"type":"XmlComposedNode","name":{"type":"XmlNameNode","value":"ul"},"attributes":[],"elements":[{"type":"XmlComposedNode","name":{"type":"XmlNameNode","value":"li"},"attributes":[],"elements":[{"type":"XmlTextNode","contents":"Overloading some method of ObjectOutputStream, so serialized form of MyClass will contain assembly name too, like \"MyClass, MyAssembly, ...\"."}]},{"type":"XmlComposedNode","name":{"type":"XmlNameNode","value":"li"},"attributes":[],"elements":[{"type":"XmlTextNode","contents":"Overloading some method in ObjectInputStream, so class will be loaded in some different way, maybe it should be searched in some different assembly, etc."}]},{"type":"XmlComposedNode","name":{"type":"XmlNameNode","value":"li"},"attributes":[],"elements":[{"type":"XmlTextNode","contents":"Adding some information to assemblies manifests so IKVM will know where to search for MyClass.\nIs anything of this is real? How this problem should be solved?"}]}]}},"metaInformation":[{"type":"NaturalLanguageMetaInformation","tfMap":{"serial":1,"solv":1,"method":2,"assembl":4,"real":1,"problem":1,"overload":2,"load":1,"object":2,"inform":1,"stream":2,"ad":1,"manifest":1,"output":1,"form":1,"ikvm":1,"input":1,"search":2}},{"type":"CodeTypesMetaInformation","qualifiedTypes":[],"simpleTypes":[{"type":"ReferenceTypeNode","ids":[{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"ObjectOutputStream","comments":[]},"comments":[]}],"comments":[]},{"type":"ReferenceTypeNode","ids":[{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"MyClass","comments":[]},"comments":[]}],"comments":[]},{"type":"ReferenceTypeNode","ids":[{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"MyAssembly","comments":[]},"comments":[]}],"comments":[]},{"type":"ReferenceTypeNode","ids":[{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"ObjectInputStream","comments":[]},"comments":[]}],"comments":[]}],"basicTypes":[]},{"type":"CodeInvocationMetaInformation","invocations":[]},{"type":"CodeVariablesMetaInformation","variables":[]},{"type":"CodeIdentifiersMetaInformation","identifiers":[{"type":"IdentifierNode","name":"ObjectOutputStream","comments":[]},{"type":"IdentifierNode","name":"MyClass","comments":[]},{"type":"IdentifierNode","name":"MyClass","comments":[]},{"type":"IdentifierNode","name":"MyAssembly","comments":[]},{"type":"IdentifierNode","name":"ObjectInputStream","comments":[]}]},{"type":"CodeMethodDeclaratorsMetaInformation","declarators":[]},{"type":"TextReadabilityMetaInformation","fleshReadingEaseScore":57.70352941176475,"fleshKincaidGradeLevel":9.434117647058823,"automatedReadingIndex":12.628676470588239,"gunningFogIndex":10.329411764705883,"smogIndex":9.70820393249937,"colemanLiauIndex":14.397205882352939}]}]},"answers":[{"type":"StackOverflowAnswer","id":1005014,"questionId":1000004,"comments":[],"creationDate":"2009-06-17","lastActivityDate":"2009-06-17","score":0,"isAccepted":true,"owner":{"type":"StackOverflowUser","id":53481,"displayName":"Dmitriy Matveev","reputation":5706},"informationUnits":[{"type":"NaturalLanguageTaggedUnit","id":"1005014-u0","astNode":{"type":"HASTNodeSequence","fragments":[{"type":"TextFragmentNode","text":"The guys from IKVM team gave me the answers:"}]},"rawText":"The guys from IKVM team gave me the answers:","source":{"type":"XmlSourceInfo","node":{"type":"XmlComposedNode","name":{"type":"XmlNameNode","value":"p"},"attributes":[],"elements":[{"type":"XmlTextNode","contents":"The guys from IKVM team gave me the answers:"}]}},"metaInformation":[{"type":"NaturalLanguageMetaInformation","tfMap":{"guy":1,"team":1,"gave":1,"answer":1,"ikvm":1}},{"type":"CodeTypesMetaInformation","qualifiedTypes":[],"simpleTypes":[],"basicTypes":[]},{"type":"CodeInvocationMetaInformation","invocations":[]},{"type":"CodeVariablesMetaInformation","variables":[]},{"type":"CodeIdentifiersMetaInformation","identifiers":[]},{"type":"CodeMethodDeclaratorsMetaInformation","declarators":[]},{"type":"TextReadabilityMetaInformation","fleshReadingEaseScore":103.70000000000002,"fleshKincaidGradeLevel":1.0311111111111124,"automatedReadingIndex":1.3866666666666667,"gunningFogIndex":3.6,"smogIndex":3.0,"colemanLiauIndex":3.7722222222222186}]},{"type":"NaturalLanguageTaggedUnit","id":"1005014-u1","astNode":{"type":"HASTNodeSequence","fragments":[{"type":"TextFragmentNode","text":"1) You can subclass "},{"type":"ReferenceTypeNode","ids":[{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"ObjectOutputStream","comments":[]},"comments":[]}],"comments":[]},{"type":"TextFragmentNode","text":"and override "},{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"annotateClass","comments":[]}],"comments":[]},{"type":"TextFragmentNode","text":" to write\n  the assembly name and subclass\n  "},{"type":"ReferenceTypeNode","ids":[{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"ObjectInputStream","comments":[]},"comments":[]}],"comments":[]},{"type":"TextFragmentNode","text":"and override\n  "},{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"resolveClass","comments":[]}],"comments":[]},{"type":"TextFragmentNode","text":" to read the assembly\n  name.2) Add the following custom attribute\n  to the assembly that does the\n  deserialization: [assembly:\n  "},{"type":"ReferenceTypeNode","ids":[{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"IKVM","comments":[]},"comments":[]},{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"Attributes","comments":[]},"comments":[]},{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"CustomAssemblyClassLoader","comments":[]},"comments":[]}],"comments":[]},{"type":"TextFragmentNode","text":"("},{"type":"ExpressionStatement","expression":{"type":"MethodInvocationNode","identifier":{"type":"IdentifierNode","name":"typeof","comments":[]},"args":{"type":"ExpressionListNode","arguments":[{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"ikvm","comments":[]},{"type":"IdentifierNode","name":"runtime","comments":[]},{"type":"IdentifierNode","name":"AppDomainAssemblyClassLoader","comments":[]}],"comments":[]}],"comments":[]},"comments":[]},"labels":[]},{"type":"TextFragmentNode","text":")]"}]},"rawText":"1) You can subclass ObjectOutputStream\n  and override annotateClass to write\n  the assembly name and subclass\n  ObjectInputStream and override\n  resolveClass to read the assembly\n  name.2) Add the following custom attribute\n  to the assembly that does the\n  deserialization: [assembly:\n  IKVM.Attributes.CustomAssemblyClassLoader(typeof(ikvm.runtime.AppDomainAssemblyClassLoader))]","source":{"type":"XmlSourceInfo","node":{"type":"XmlComposedNode","name":{"type":"XmlNameNode","value":"blockquote"},"attributes":[],"elements":[{"type":"XmlComposedNode","name":{"type":"XmlNameNode","value":"p"},"attributes":[],"elements":[{"type":"XmlTextNode","contents":"1) You can subclass ObjectOutputStream\n  and override annotateClass to write\n  the assembly name and subclass\n  ObjectInputStream and override\n  resolveClass to read the assembly\n  name."}]},{"type":"XmlComposedNode","name":{"type":"XmlNameNode","value":"p"},"attributes":[],"elements":[{"type":"XmlTextNode","contents":"2) Add the following custom attribute\n  to the assembly that does the\n  deserialization: [assembly:\n  IKVM.Attributes.CustomAssemblyClassLoader(typeof(ikvm.runtime.AppDomainAssemblyClassLoader))]"}]}]}},"metaInformation":[{"type":"NaturalLanguageMetaInformation","tfMap":{"read":1,"subclass":2,"assembl":6,"resolv":1,"runtim":1,"custom":2,"loader":2,"domain":1,"overrid":2,"object":2,"attribut":2,"annot":1,"stream":2,"typeof":1,"app":1,"deseri":1,"output":1,"ikvm":2,"add":1,"input":1,"write":1}},{"type":"CodeTypesMetaInformation","qualifiedTypes":[{"type":"ReferenceTypeNode","ids":[{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"IKVM","comments":[]},"comments":[]},{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"Attributes","comments":[]},"comments":[]},{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"CustomAssemblyClassLoader","comments":[]},"comments":[]}],"comments":[]}],"simpleTypes":[{"type":"ReferenceTypeNode","ids":[{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"ObjectOutputStream","comments":[]},"comments":[]}],"comments":[]},{"type":"ReferenceTypeNode","ids":[{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"ObjectInputStream","comments":[]},"comments":[]}],"comments":[]}],"basicTypes":[]},{"type":"CodeInvocationMetaInformation","invocations":[{"type":"MethodInvocationNode","identifier":{"type":"IdentifierNode","name":"typeof","comments":[]},"args":{"type":"ExpressionListNode","arguments":[{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"ikvm","comments":[]},{"type":"IdentifierNode","name":"runtime","comments":[]},{"type":"IdentifierNode","name":"AppDomainAssemblyClassLoader","comments":[]}],"comments":[]}],"comments":[]},"comments":[]}]},{"type":"CodeVariablesMetaInformation","variables":[]},{"type":"CodeIdentifiersMetaInformation","identifiers":[{"type":"IdentifierNode","name":"ObjectOutputStream","comments":[]},{"type":"IdentifierNode","name":"annotateClass","comments":[]},{"type":"IdentifierNode","name":"ObjectInputStream","comments":[]},{"type":"IdentifierNode","name":"resolveClass","comments":[]},{"type":"IdentifierNode","name":"IKVM","comments":[]},{"type":"IdentifierNode","name":"Attributes","comments":[]},{"type":"IdentifierNode","name":"CustomAssemblyClassLoader","comments":[]},{"type":"IdentifierNode","name":"typeof","comments":[]},{"type":"IdentifierNode","name":"ikvm","comments":[]},{"type":"IdentifierNode","name":"runtime","comments":[]},{"type":"IdentifierNode","name":"AppDomainAssemblyClassLoader","comments":[]}]},{"type":"CodeMethodDeclaratorsMetaInformation","declarators":[]},{"type":"TextReadabilityMetaInformation","fleshReadingEaseScore":-6.043414634146302,"fleshKincaidGradeLevel":24.287804878048785,"automatedReadingIndex":35.60121951219512,"gunningFogIndex":21.278048780487808,"smogIndex":15.24744871391589,"colemanLiauIndex":29.151707317073164}]},{"type":"NaturalLanguageTaggedUnit","id":"1005014-u2","astNode":{"type":"HASTNodeSequence","fragments":[{"type":"TextFragmentNode","text":"I also found that I can override classloader for any assembly with explicit setting in application configuration file:"}]},"rawText":"I also found that I can override classloader for any assembly with explicit setting in application configuration file:","source":{"type":"XmlSourceInfo","node":{"type":"XmlComposedNode","name":{"type":"XmlNameNode","value":"p"},"attributes":[],"elements":[{"type":"XmlTextNode","contents":"I also found that I can override classloader for any assembly with explicit setting in application configuration file:"}]}},"metaInformation":[{"type":"NaturalLanguageMetaInformation","tfMap":{"assembl":1,"set":1,"overrid":1,"configur":1,"found":1,"applic":1,"file":1,"classload":1,"explicit":1}},{"type":"CodeTypesMetaInformation","qualifiedTypes":[],"simpleTypes":[],"basicTypes":[]},{"type":"CodeInvocationMetaInformation","invocations":[]},{"type":"CodeVariablesMetaInformation","variables":[]},{"type":"CodeIdentifiersMetaInformation","identifiers":[]},{"type":"CodeMethodDeclaratorsMetaInformation","declarators":[]},{"type":"TextReadabilityMetaInformation","fleshReadingEaseScore":28.765000000000015,"fleshKincaidGradeLevel":13.718888888888891,"automatedReadingIndex":13.736666666666665,"gunningFogIndex":11.644444444444446,"smogIndex":10.745966692414834,"colemanLiauIndex":15.255555555555553}]},{"type":"CodeTaggedUnit","id":"1005014-u3","astNode":{"type":"HASTNodeSequence","fragments":[{"type":"XmlPrologNode","attributes":[{"type":"XmlAttributeNode","name":{"type":"XmlNameNode","value":"version"},"value":{"type":"StringLiteralNode","valueRep":"\"1.0\""}},{"type":"XmlAttributeNode","name":{"type":"XmlNameNode","value":"encoding"},"value":{"type":"StringLiteralNode","valueRep":"\"utf-8\""}}]},{"type":"TextFragmentNode","text":"\n"},{"type":"XmlComposedNode","name":{"type":"XmlNameNode","value":"configuration"},"attributes":[],"elements":[{"type":"XmlTextNode","contents":"\n  "},{"type":"XmlComposedNode","name":{"type":"XmlNameNode","value":"appSettings"},"attributes":[],"elements":[{"type":"XmlTextNode","contents":"\n    "},{"type":"XmlSingleNode","name":{"type":"XmlNameNode","value":"add"},"attributes":[{"type":"XmlAttributeNode","name":{"type":"XmlNameNode","value":"key"},"value":{"type":"StringLiteralNode","valueRep":"\"ikvm-classloader:MyExampleAssembly\""}},{"type":"XmlAttributeNode","name":{"type":"XmlNameNode","value":"value"},"value":{"type":"StringLiteralNode","valueRep":"\"ikvm.runtime.AppDomainAssemblyClassLoader, IKVM.OpenJDK.ClassLibrary, Version=0.37.0.0, Culture=neutral, PublicKeyToken=null\""}}]},{"type":"XmlTextNode","contents":"\n  "}]},{"type":"XmlTextNode","contents":"\n"}]},{"type":"TextFragmentNode","text":"\n"}]},"rawText":"<?xml version=\"1.0\" encoding=\"utf-8\" ?>\n<configuration>\n  <appSettings>\n    <add key=\"ikvm-classloader:MyExampleAssembly\" value=\"ikvm.runtime.AppDomainAssemblyClassLoader, IKVM.OpenJDK.ClassLibrary, Version=0.37.0.0, Culture=neutral, PublicKeyToken=null\" />\n  </appSettings>\n</configuration>\n","source":{"type":"XmlSourceInfo","node":{"type":"XmlComposedNode","name":{"type":"XmlNameNode","value":"pre"},"attributes":[],"elements":[{"type":"XmlComposedNode","name":{"type":"XmlNameNode","value":"code"},"attributes":[],"elements":[{"type":"XmlTextNode","contents":"<?xml version=\"1.0\" encoding=\"utf-8\" ?>\n<configuration>\n  <appSettings>\n    <add key=\"ikvm-classloader:MyExampleAssembly\" value=\"ikvm.runtime.AppDomainAssemblyClassLoader, IKVM.OpenJDK.ClassLibrary, Version=0.37.0.0, Culture=neutral, PublicKeyToken=null\" />\n  </appSettings>\n</configuration>\n"}]}]}},"metaInformation":[{"type":"NaturalLanguageMetaInformation","tfMap":{"cultur":1,"assembl":2,"runtim":1,"loader":1,"domain":1,"set":2,"librari":1,"configur":2,"open":1,"key":2,"version":2,"encod":1,"xml":1,"utf":1,"token":1,"app":3,"classload":1,"neutral":1,"ikvm":3,"add":1,"jdk":1}},{"type":"CodeTypesMetaInformation","qualifiedTypes":[],"simpleTypes":[],"basicTypes":[]},{"type":"CodeInvocationMetaInformation","invocations":[]},{"type":"CodeVariablesMetaInformation","variables":[]},{"type":"CodeIdentifiersMetaInformation","identifiers":[]},{"type":"CodeMethodDeclaratorsMetaInformation","declarators":[]}]},{"type":"NaturalLanguageTaggedUnit","id":"1005014-u4","astNode":{"type":"HASTNodeSequence","fragments":[{"type":"TextFragmentNode","text":"And it also possibly can be set during convertation from java jar when -classloader command line parameter is used."}]},"rawText":"And it also possibly can be set during convertation from java jar when -classloader command line parameter is used.","source":{"type":"XmlSourceInfo","node":{"type":"XmlComposedNode","name":{"type":"XmlNameNode","value":"p"},"attributes":[],"elements":[{"type":"XmlTextNode","contents":"And it also possibly can be set during convertation from java jar when -classloader command line parameter is used."}]}},"metaInformation":[{"type":"NaturalLanguageMetaInformation","tfMap":{"line":1,"set":1,"command":1,"possibl":1,"paramet":1,"classload":1,"jar":1,"convert":1}},{"type":"CodeTypesMetaInformation","qualifiedTypes":[],"simpleTypes":[],"basicTypes":[]},{"type":"CodeInvocationMetaInformation","invocations":[]},{"type":"CodeVariablesMetaInformation","variables":[]},{"type":"CodeIdentifiersMetaInformation","identifiers":[]},{"type":"CodeMethodDeclaratorsMetaInformation","declarators":[]},{"type":"TextReadabilityMetaInformation","fleshReadingEaseScore":40.61315789473687,"fleshKincaidGradeLevel":12.314736842105265,"automatedReadingIndex":11.619999999999997,"gunningFogIndex":11.810526315789474,"smogIndex":10.745966692414834,"colemanLiauIndex":12.071052631578947}]}]}]}